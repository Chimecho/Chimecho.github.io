(window.webpackJsonp=window.webpackJsonp||[]).push([[25,8,14],{1649:function(e,t,a){"use strict";a.d(t,"a",function(){return b});var n=a(14),o=a.n(n),i=a(19),c=a.n(i),r=a(17),l=a.n(r),s=a(16),d=a.n(s),m=a(18),u=a.n(m),p=a(4),g=a.n(p),v=a(1),h=a.n(v),_=(a(0),a(11)),f=a.n(_),E=(a(1333),{looksLike:void 0,children:null,disabled:!1,centred:!1,withMobileOffset:!1,className:""}),b=function(e){function t(){return o()(this,t),l()(this,d()(t).apply(this,arguments))}return u()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.rank,a=e.looksLike,n=e.children,o=e.disabled,i=e.centred,c=e.className,r=e.withMobileOffset,l=o?"div":"h".concat(t),s=f()("heading","heading_".concat(a||t),g()({heading_centred:i,heading_offset:r},c,c));return h.a.createElement(l,{className:s},n)}}]),t}(v.PureComponent);g()(b,"defaultProps",E)},1650:function(e,t,a){"use strict";a.d(t,"a",function(){return O});var n=a(14),o=a.n(n),i=a(19),c=a.n(i),r=a(17),l=a.n(r),s=a(16),d=a.n(s),m=a(18),u=a.n(m),p=a(6),g=a.n(p),v=a(4),h=a.n(v),_=a(1),f=a.n(_),E=a(0),b=a.n(E),k=a(11),w=a.n(k),N=a(26),y=a(349),C=(a(1332),b.a.func.isRequired,b.a.oneOfType([b.a.string,b.a.number,b.a.object]),b.a.bool,b.a.oneOfType([b.a.arrayOf(b.a.node),b.a.node]).isRequired,b.a.bool,b.a.func,b.a.number,{next:void 0,loading:!1,isOnScroll:!1,count:0,needLoadOnScroll:void 0}),S=f.a.createElement(y.a,{radius:24,stroke:2}),x=f.a.createElement(y.a,{radius:48,stroke:2}),O=function(e){function t(e){var a;o()(this,t),a=l()(this,d()(t).call(this,e)),h()(g()(g()(a)),"onScroll",function(){if(a.loadMoreButton){var e=a.props.needLoadOnScroll;window.document.documentElement.clientHeight+window.scrollY>=a.loadMoreButton.getBoundingClientRect().top&&(e&&e()?a.load():void 0===e&&a.load())}}),h()(g()(g()(a)),"load",function(){var e=a.props,t=e.next,n=e.load,o=a.state.loading;t&&n&&!o&&(a.setState({loading:!0}),n().then(function(){a.setState({loading:!1})}))}),h()(g()(g()(a)),"loadMoreButtonRef",function(e){a.loadMoreButton=e});var n=e.loading,i=void 0!==n&&n;return a.state={loading:i},a}return u()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.isOnScroll&&window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.props.isOnScroll&&window.removeEventListener("scroll",this.onScroll)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.loading;"boolean"==typeof t&&this.state.loading!==t&&this.setState({loading:t})}},{key:"render",value:function(){var e=this.props,t=e.count,a=e.next,n=this.state.loading;return f.a.createElement("div",{className:"load-more",id:"load-more-button"},this.props.children,N.a.isClient()&&f.a.createElement("div",{className:"load-more__bottom"},t>0&&a&&f.a.createElement("div",{className:w()("load-more__button",{"load-more__loader":n}),onClick:this.load,role:"button",tabIndex:0,onScroll:this.load,ref:this.loadMoreButtonRef},n?S:"Load more"),t<=0&&n&&x))}}]),t}(_.Component);h()(O,"defaultProps",C)},1652:function(e,t,a){"use strict";var n=a(77),o=a.n(n),i=a(14),c=a.n(i),r=a(19),l=a.n(r),s=a(17),d=a.n(s),m=a(16),u=a.n(m),p=a(18),g=a.n(p),v=a(6),h=a.n(v),_=a(4),f=a.n(_),E=a(1),b=a.n(E),k=(a(0),a(1691)),w=a.n(k),N=(a(1337),function(e){function t(){var e,a;c()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return a=d()(this,(e=u()(t)).call.apply(e,[this].concat(o))),f()(h()(h()(a)),"state",{}),a}return g()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({updated:!1})},20)}},{key:"componentDidUpdate",value:function(){var e=this;this.state.updated||setTimeout(function(){e.setState({updated:!0})},20)}},{key:"render",value:function(){return b.a.createElement("div",null,b.a.createElement(w.a,o()({swipeToSlide:!0},this.props,{ref:this.props.forwardedRef}),this.props.children))}}]),t}(b.a.Component));t.a=b.a.forwardRef(function(e,t){return b.a.createElement(N,o()({forwardedRef:t},e))})},1656:function(e,t,a){"use strict";var n=a(4),o=a.n(n),i=a(2),c=a.n(i),r=a(1),l=a.n(r),s=(a(0),a(11)),d=a.n(s),m=a(213),u=a.n(m),p=a(352),g=(a(1339),{className:"",arrowClassName:"",disabled:!1,onClickCapture:void 0});function v(e){var t,a=e.direction,n=e.disabled,i=e.className,r=e.arrowClassName,s=c()({},u()(e,["arrowClassName","currentSlide","slideCount"]),{className:d()("slider-arrow",(t={"slider-arrow_disabled":n},o()(t,"slider-arrow_".concat(a),a),o()(t,i,i),o()(t,r,r),t)),style:{}});return l.a.createElement("div",s,l.a.createElement(p.a,{size:"medium",direction:"next"===a?"right":"left"}))}v.defaultProps=g,t.a=v},1657:function(e,t,a){"use strict";a.d(t,"a",function(){return S});var n=a(14),o=a.n(n),i=a(19),c=a.n(i),r=a(17),l=a.n(r),s=a(16),d=a.n(s),m=a(18),u=a.n(m),p=a(6),g=a.n(p),v=a(4),h=a.n(v),_=a(1),f=a.n(_),E=a(0),b=a.n(E),k=a(11),w=a.n(k),N=(a(1340),b.a.bool,b.a.func,b.a.oneOfType([b.a.element,b.a.string]),b.a.bool,b.a.string,{disabled:!1,onClick:void 0,title:void 0,wide:!1,className:""}),y=f.a.createElement("div",{className:"add-game-card__icon"},"+"),C=f.a.createElement("div",{className:"add-game-card__disabled-content"},f.a.createElement("span",{className:"add-game-card__disabled-content__smile",role:"img","aria-label":"sleeping"},"ðŸ˜´"),f.a.createElement("div",{className:"add-game-card__disabled-content__text"},"No game here yet")),S=function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a=l()(this,(e=d()(t)).call.apply(e,[this].concat(i))),h()(g()(g()(a)),"handleClick",function(){var e=a.props,t=e.onClick;e.disabled||"function"==typeof t&&t()}),a}return u()(t,e),c()(t,[{key:"getClassName",value:function(){var e=this.props,t=e.className,a=e.disabled,n=e.wide;return w()("add-game-card",h()({"add-game-card_disabled":a,"add-game-card_wide":n},t,t))}},{key:"render",value:function(){var e=this.props.title;return f.a.createElement("div",{className:this.getClassName(),onClick:this.handleClick,role:"button",tabIndex:0},y,f.a.createElement("div",{className:"add-game-card__title"},e),C)}}]),t}(_.Component);h()(S,"defaultProps",N)},1676:function(e,t,a){"use strict";var n,o,i,c=a(77),r=a.n(c),l=a(14),s=a.n(l),d=a(19),m=a.n(d),u=a(17),p=a.n(u),g=a(16),v=a.n(g),h=a(18),_=a.n(h),f=a(6),E=a.n(f),b=a(4),k=a.n(b),w=a(1),N=a.n(w),y=(a(0),a(25)),C=a(11),S=a.n(C),x=a(34),O=(a(1368),a(67),a(58),a(2)),z=a.n(O),R=a(24),A=a(350),T=a.n(A),j=a(1652),M=a(15),B=a.n(M),L=a(348),D=a.n(L),U=a(22),I=a(1649),P=a(5),F=a(1692),H=a(226),W=a(78),G=a(229),V=a(97),Y=a(218),q=(a(1369),N.a.createElement("div",{className:"game-poster__e3-2018-promo"})),K=N.a.createElement("div",{className:"game-poster__gamescom-promo"}),X=Object(y.connect)(function(e){return{size:e.app.size}})((i=o=function(e){function t(){return s()(this,t),p()(this,v()(t).apply(this,arguments))}return _()(t,e),m()(t,[{key:"getStyle",value:function(e){var t=e.visible,a=this.props,n=a.size,o=a.game,i=o.background_image,c=void 0===i?"":i,r=o.dominant_color;return{backgroundImage:c&&t?"\n          linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0.3)),\n          url('".concat(c.replace("/media/","/media/resize/".concat(R.a.isDesktopSize({size:n})?1280:640,"/-/")),"')\n        "):"none",backgroundColor:"#".concat(r)}}},{key:"renderMeta",value:function(){var e=this.props.game,t=e.platforms,a=void 0===t?[]:t,n=e.parent_platforms,o=void 0===n?[]:n;return N.a.createElement("div",{className:"game-poster__meta"},a.length?N.a.createElement(Y.a,{platforms:a.map(function(e){return e.platform}),parentPlatforms:o,size:"big",icons:!0,parents:!0}):null)}},{key:"renderRating",value:function(){var e=this.props.game.rating_top;return N.a.createElement(V.a,{className:"game-poster__rating",rating:{id:e}})}},{key:"renderPromo",value:function(){var e=this.props.game.promo,t=U.a.promos.e3&&"e3"===e,a=U.a.promos.gamescom&&"gamescom"===e;return N.a.createElement(w.Fragment,null,t&&q,a&&K)}},{key:"renderChart",value:function(){var e=this.props.game,t=e.chart,a=e.chartIndex;return N.a.createElement(G.a,{className:"game-poster__chart",chart:t,size:"big",index:a})}},{key:"renderName",value:function(){var e=this.props,t=e.game.name,a=e.size;return R.a.isDesktopSize({size:a})?N.a.createElement(D.a,{text:t,line:2,truncateText:"â€¦"}):t}},{key:"renderTitle",value:function(){var e=this.props.game.slug;return N.a.createElement(I.a,{className:"game-poster__title",rank:1,disabled:!0},N.a.createElement(B.a,{to:P.a.game(e),href:P.a.game(e)},this.renderName()))}},{key:"renderButtons",value:function(){var e=this.props.game;return N.a.createElement(F.a,{className:"game-poster__buttons",game:e})}},{key:"renderUserListLine",value:function(){var e=this.props.game.users;return N.a.createElement("div",{className:"game-poster__user-list-line"},e&&e.count>0&&N.a.createElement(H.a,{users:e}))}},{key:"render",value:function(){var e=this,t=this.props.game,a=t.chart,n=t.rating_top;return N.a.createElement(W.a,null,function(t){var o=t.visible,i=t.onChildRef;return N.a.createElement("div",{ref:function(e){return i(e)},className:e.className,style:e.getStyle({visible:o})},N.a.createElement("div",{className:"game-poster__inner"},e.renderPromo(),N.a.createElement("div",{className:"game-poster__meta-rating ".concat(a?"game-poster__meta-rating_padding":"")},e.renderMeta(),n>0&&e.renderRating()),N.a.createElement("div",{className:"game-poster__title-wrapper"},a&&e.renderChart(),e.renderTitle()),e.renderButtons(),e.renderUserListLine()))})}},{key:"className",get:function(){var e=this.props.className;return S()("game-poster",k()({},e,e))}}]),t}(w.Component),k()(o,"defaultProps",{game:{},className:""}),n=i))||n,J=a(208),Q=(a(1370),function(e){var t=e.games,a=e.updateToUserRating,n=e.platformsSelectable,o=e.gameOwner,i=e.getSetBackgroundFunc;return N.a.createElement("div",{className:"game-cards-list__top-games"},N.a.createElement("div",{className:"game-cards-list__top-games__first-game"},t.length>0&&N.a.createElement(X,{game:t[0]})),N.a.createElement("div",{className:"game-cards-list__top-games__second-third-games"},t.slice(1,3).map(function(e){return N.a.createElement(J.a,{className:"game-cards-list__top-games__second-third-game",game:e,menu:!0,saveDesktopSize:!0,updateToUserRating:a,platformsSelectable:n,key:e.id,setBackground:i(e),gameOwner:o})})))});Q.defaultProps={gameOwner:void 0};var Z=Q,$=function(e){var t=e.games,a=e.isAddedCounter,n=e.size,o=e.chart,i=e.updateToUserRating,c=e.platformsSelectable,r=e.isSimple,l=e.columnGamesSlice,s=e.withReleaseDate,d=e.noRating,m=e.gameOwner,u=e.getClassName,p=e.getSetBackgroundFunc,g=o?t.map(function(e,t){return z()({},e,{chartIndex:t})}):t,v=r?g:g.slice(l),h=Math.ceil(v.length/3),_=[],f=[0,1,2].map(function(e){return v.slice(e*h,(e+1)*h)});T()(h).forEach(function(e){_.push(f[0][e],f[1][e],f[2][e])});var E=R.a.isDesktopSize({size:n}),b=Array.isArray(_)&&_.length>0,k=Array.isArray(v)&&v.length>0;return N.a.createElement("div",{className:u()},!r&&N.a.createElement(Z,{games:g,updateToUserRating:i,platformsSelectable:c,gameOwner:m,getSetBackgroundFunc:p}),E&&b&&N.a.createElement("div",{className:"game-cards-list__bottom-games"},_.map(function(e){return e?N.a.createElement(J.a,{className:"game-cards-list__bottom-game",game:e,kind:"inline",menu:!0,key:e.id,isAddedCounter:a,updateToUserRating:i,platformsSelectable:c,withReleaseDate:s,noRating:d,setBackground:p(e),gameOwner:m}):null})),(!E||!b)&&k&&N.a.createElement(j.a,{className:"game-cards-list__bottom-slides",arrows:!1,adaptiveHeight:!1,dots:!0,variableWidth:!0,slideWidth:200,infinite:!1,swipeToSlide:!0},[0,1,2].map(function(e){return N.a.createElement("div",{className:"game-cards-list__bottom-slide",key:e},v.slice(e*h,(e+1)*h).map(function(e){return N.a.createElement(J.a,{className:"game-cards-list__bottom-game",game:e,kind:"inline",menu:!0,updateToUserRating:i,platformsSelectable:c,key:e.id,withReleaseDate:s,noRating:d,setBackground:p(e),gameOwner:m})}))})))};$.defaultProps={gameOwner:void 0};var ee=$,te=function(e){var t=e.games,a=e.isAddedCounter,n=e.chart,o=e.updateToUserRating,i=e.platformsSelectable,c=e.isSimple,r=e.withReleaseDate,l=e.noRating,s=e.gameOwner,d=e.counterMod,m=e.getClassName,u=e.getSetBackgroundFunc,p=n?t.map(function(e,t){return z()({},e,{chartIndex:d?t+d:t})}):t,g=c?p:p.slice(3);return N.a.createElement("div",{className:m()},!c&&N.a.createElement(Z,{games:p,updateToUserRating:o,platformsSelectable:i,gameOwner:s,getSetBackgroundFunc:u}),N.a.createElement("div",{className:"game-cards-list__bottom-games"},g.map(function(e){return e?N.a.createElement(J.a,{className:"game-cards-list__bottom-game",game:e,kind:"inline",menu:!0,key:e.id,isAddedCounter:a,updateToUserRating:o,platformsSelectable:i,withReleaseDate:r,noRating:l,setBackground:u(e),gameOwner:s}):null})))};te.defaultProps={gameOwner:void 0};var ae=te,ne=a(10),oe=a(1656),ie=a(1657),ce={gameOwner:void 0,onAddClick:void 0,additionalMenuItem:void 0,onAdditionalMenuItemClick:void 0},re=N.a.createElement(oe.a,{arrowClassName:"game-cards-list__slider-arrow",direction:"prev"}),le=N.a.createElement(oe.a,{arrowClassName:"game-cards-list__slider-arrow",direction:"next"}),se=N.a.createElement(ne.c,{id:"shared.add_game"}),de=function(e){var t=e.games,a=e.size,n=e.adding,o=e.onAddClick,i=e.addingDisabled,c=e.additionalMenuItem,r=e.onAdditionalMenuItemClick,l=e.updateToUserRating,s=e.platformsSelectable,d=e.gameOwner,m=e.getClassName,u=e.getSetBackgroundFunc,p=re,g=le;return N.a.createElement("div",{className:m()},N.a.createElement(j.a,{className:"game-cards-list__slider-slides",arrows:R.a.isDesktopSize({size:a})&&t.length>4,nextArrow:g,prevArrow:p,adaptiveHeight:!1,dots:!1,variableWidth:!0,infinite:t.length>4,slidesToScroll:R.a.isDesktopSize({size:a})?4:1,swipeToSlide:!0},t.map(function(e,t){return n&&!e?N.a.createElement("div",{className:"game-cards-list__slider-slide",key:t},N.a.createElement(ie.a,{className:"game-cards-list__slider-game game-cards-list__slider-game_add",disabled:i,onClick:function(){o&&o(t)},title:se})):N.a.createElement("div",{className:"game-cards-list__slider-slide",key:e.id},N.a.createElement(J.a,{className:"game-cards-list__slider-game",game:e,menu:!0,saveDesktopSize:!0,additionalMenuItem:c,onAdditionalMenuItemClick:function(){r&&r(e,t)},updateToUserRating:l,platformsSelectable:s,setBackground:u(e),gameOwner:d}))})))};de.defaultProps=ce;var me=de,ue=(a(1371),function(e){var t=e.games,a=e.updateToUserRating,n=e.platformsSelectable,o=e.gameOwner,i=e.getSetBackgroundFunc;return N.a.createElement("div",{className:"game-cards-list__featured-games"},t.slice(0,3).map(function(e,t){return N.a.createElement(J.a,{key:e.id,className:"game-cards-list__featured-games__game",game:e,saveDesktopSize:!0,kind:"featured",updateToUserRating:a,platformsSelectable:n,setBackground:i(e),gameOwner:o,index:t,menu:!0})}))});ue.defaultProps={gameOwner:void 0};var pe=ue,ge=function(e){var t=e.games,a=e.isAddedCounter,n=e.size,o=e.chart,i=e.updateToUserRating,c=e.platformsSelectable,r=e.columnGamesSlice,l=e.withReleaseDate,s=e.noRating,d=e.gameOwner,m=e.getClassName,u=e.getSetBackgroundFunc,p=o?t.map(function(e,t){return z()({},e,{chartIndex:t})}):t,g=p.slice(r),v=Math.ceil(g.length/3),h=[],_=[0,1,2].map(function(e){return g.slice(e*v,(e+1)*v)});T()(v).forEach(function(e){h.push(_[0][e],_[1][e],_[2][e])});var f=R.a.isDesktopSize({size:n}),E=Array.isArray(h)&&h.length>0,b=Array.isArray(g)&&g.length>0;return N.a.createElement("div",{className:m()},N.a.createElement(pe,{games:p,updateToUserRating:i,platformsSelectable:c,gameOwner:d,getSetBackgroundFunc:u}),f&&E&&N.a.createElement("div",{className:"game-cards-list__bottom-games"},g.map(function(e){return e?N.a.createElement(J.a,{className:"game-cards-list__bottom-game",game:e,kind:"inline",key:e.id,isAddedCounter:a,updateToUserRating:i,platformsSelectable:c,withReleaseDate:l,noRating:s,setBackground:u(e),gameOwner:d,menu:!0}):null})),(!f||!E)&&b&&N.a.createElement(j.a,{className:"game-cards-list__bottom-slides game-cards-list__bottom-slides_featured",arrows:!1,adaptiveHeight:!1,dots:!0,variableWidth:!0,slideWidth:200,infinite:!1,swipeToSlide:!0},[0,1,2].map(function(e){return N.a.createElement("div",{className:"game-cards-list__bottom-slide",key:e},g.slice(e*v,(e+1)*v).map(function(e){return N.a.createElement(J.a,{className:"game-cards-list__bottom-game",game:e,kind:"inline",updateToUserRating:i,platformsSelectable:c,key:e.id,withReleaseDate:l,noRating:s,setBackground:u(e),gameOwner:d,menu:!0})}))})))};ge.defaultProps={gameOwner:void 0};var ve,he,_e,fe=ge;a.d(t,"a",function(){return be});var Ee={showcase:ee,charts:ae,slider:me,featured:fe},be=Object(y.connect)(function(e){return{size:e.app.size,profile:e.profile,currentUser:e.currentUser}})((_e=he=function(e){function t(){var e,a;s()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return a=p()(this,(e=v()(t)).call.apply(e,[this].concat(o))),k()(E()(E()(a)),"getClassName",function(){var e,t=a.props,n=t.className,o=t.kind,i=t.visible;return S()("game-cards-list",(e={},k()(e,"game-cards-list_".concat(o),o),k()(e,"game-cards-list_invisible",!i),k()(e,n,n),e))}),k()(E()(E()(a)),"getSetBackgroundFunc",function(e){var t=a.props,n=t.profile,o=t.currentUser,i=t.setBackground,c=n.game_background;return c&&c.url===e.background_image||o.id!==n.id||!0!==i?null:a.handleSetBackground.bind(E()(E()(a)),e)}),k()(E()(E()(a)),"handleSetBackground",function(e){(0,a.props.dispatch)(Object(x.hb)(e))}),a}return _()(t,e),m()(t,[{key:"render",value:function(){var e=Ee[this.props.kind];return e?N.a.createElement(e,r()({},this.props,{getClassName:this.getClassName,getSetBackgroundFunc:this.getSetBackgroundFunc})):N.a.createElement("div",{className:this.getClassName()},this.props.children)}}]),t}(w.Component),k()(he,"defaultProps",{setBackground:!1,games:void 0,gameOwner:void 0,kind:"common",className:"",chart:!1,adding:!1,addingDisabled:!1,onAddClick:void 0,onAdditionalMenuItemClick:void 0,additionalMenuItem:void 0,updateToUserRating:!1,platformsSelectable:!1,isSimple:!1,withReleaseDate:!1,noRating:!1,columnGamesSlice:3,children:void 0,counterMod:0,isAddedCounter:!1,visible:!0}),ve=_e))||ve},1692:function(e,t,a){"use strict";a.d(t,"a",function(){return x});var n=a(14),o=a.n(n),i=a(19),c=a.n(i),r=a(17),l=a.n(r),s=a(16),d=a.n(s),m=a(18),u=a.n(m),p=a(6),g=a.n(p),v=a(4),h=a.n(v),_=a(1),f=a.n(_),E=(a(0),a(11)),b=a.n(E),k=a(10),w=a(363),N=a(361),y=(a(1349),a(347),f.a.createElement("span",{className:"game-buttons__collections-text-icon"})),C=f.a.createElement(k.c,{id:"shared.in_collection"}),S=f.a.createElement(k.c,{id:"shared.collection"}),x=function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a=l()(this,(e=d()(t)).call.apply(e,[this].concat(i))),h()(g()(g()(a)),"state",{collectionsOpened:!1,collectionsHasAdded:void 0,gameStatus:void 0}),h()(g()(g()(a)),"componentDidMount",function(){window.document.body.addEventListener("click",a.handleClickOnDocument)}),h()(g()(g()(a)),"componentWillUnmount",function(){window.document.body.removeEventListener("click",a.handleClickOnDocument)}),h()(g()(g()(a)),"handleClickOnDocument",function(e){var t="touchend"===e.type&&e.touches.length>0?e.touches[0]:e.target;!a.collectionsContainer.contains(t)&&a.state.collectionsOpened&&a.setState({collectionsOpened:!1})}),h()(g()(g()(a)),"handleStatusChange",function(e){a.setState({gameStatus:e})}),h()(g()(g()(a)),"handleCollectionsLoad",function(e){a.setState({collectionsHasAdded:e.some(function(e){return e.game_in_collection})})}),h()(g()(g()(a)),"handleCollectionsClick",function(){a.setState(function(e){return{collectionsOpened:!e.collectionsOpened}})}),h()(g()(g()(a)),"refCollectionsContainer",function(e){a.collectionsContainer=e}),a}return u()(t,e),c()(t,[{key:"getClassName",value:function(){var e=this.props.className;return b()("game-buttons",h()({},e,e))}},{key:"render",value:function(){var e=this.props.game,t=this.state,a=t.collectionsOpened,n=t.collectionsHasAdded,o=t.gameStatus,i=void 0!==n&&n,c=void 0!==o?o:e.user_game&&e.user_game.status||"";return f.a.createElement("div",{className:this.getClassName()},f.a.createElement(w.a,{game:e,status:c,onChange:this.handleStatusChange,kind:"buttons",containerClassName:"game-buttons__status-container",showAddedCount:!0,hideButtonsIfChildOpened:!1}),f.a.createElement("div",{ref:this.refCollectionsContainer,className:b()("game-buttons__collections",{"game-buttons__collections__active":a})},f.a.createElement("div",{className:b()("game-buttons__collections-text",{"game-buttons__collections-text-active":i,"game-buttons__collections-text-inactive":!i}),onClick:this.handleCollectionsClick,role:"button",tabIndex:0},y,i&&C,!i&&S),f.a.createElement("div",{className:b()("game-buttons__collections-container__overlay",{"game-buttons__collections-container__overlay-opened":a}),onClick:this.handleCollectionsClick,role:"button",tabIndex:0}),f.a.createElement("div",{className:b()("game-buttons__collections-container",{"game-buttons__collections-container-opened":a})},a&&f.a.createElement(N.a,{game:e,onCollectionsLoad:this.handleCollectionsLoad}))))}}]),t}(f.a.PureComponent);h()(x,"defaultProps",{className:""})},1694:function(e,t,a){var n,o,i;o=[e,t],void 0===(i="function"==typeof(n=function(e,t){"use strict";var a,n,o="function"==typeof Map?new Map:(a=[],n=[],{has:function(e){return a.indexOf(e)>-1},get:function(e){return n[a.indexOf(e)]},set:function(e,t){-1===a.indexOf(e)&&(a.push(e),n.push(t))},delete:function(e){var t=a.indexOf(e);t>-1&&(a.splice(t,1),n.splice(t,1))}}),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function c(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t=null,a=null,n=null,c=function(){e.clientWidth!==a&&m()},r=function(t){window.removeEventListener("resize",c,!1),e.removeEventListener("input",m,!1),e.removeEventListener("keyup",m,!1),e.removeEventListener("autosize:destroy",r,!1),e.removeEventListener("autosize:update",m,!1),Object.keys(t).forEach(function(a){e.style[a]=t[a]}),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",r,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",m,!1),window.addEventListener("resize",c,!1),e.addEventListener("input",m,!1),e.addEventListener("autosize:update",m,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:r,update:m}),"vertical"===(l=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===l.resize&&(e.style.resize="horizontal"),t="content-box"===l.boxSizing?-(parseFloat(l.paddingTop)+parseFloat(l.paddingBottom)):parseFloat(l.borderTopWidth)+parseFloat(l.borderBottomWidth),isNaN(t)&&(t=0),m()}var l;function s(t){var a=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=a,e.style.overflowY=t}function d(){if(0!==e.scrollHeight){var n=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",a=e.clientWidth,n.forEach(function(e){e.node.scrollTop=e.scrollTop}),o&&(document.documentElement.scrollTop=o)}}function m(){d();var t=Math.round(parseFloat(e.style.height)),a=window.getComputedStyle(e,null),o="content-box"===a.boxSizing?Math.round(parseFloat(a.height)):e.offsetHeight;if(o<t?"hidden"===a.overflowY&&(s("scroll"),d(),o="content-box"===a.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==a.overflowY&&(s("hidden"),d(),o="content-box"===a.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),n!==o){n=o;var c=i("autosize:resized");try{e.dispatchEvent(c)}catch(e){}}}}function r(e){var t=o.get(e);t&&t.destroy()}function l(e){var t=o.get(e);t&&t.update()}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(e){return e}).destroy=function(e){return e},s.update=function(e){return e}):((s=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return c(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=s,e.exports=t.default})?n.apply(t,o):n)||(e.exports=i)},1722:function(e,t,a){"use strict";var n=a(2),o=a.n(n),i=a(14),c=a.n(i),r=a(19),l=a.n(r),s=a(17),d=a.n(s),m=a(16),u=a.n(m),p=a(18),g=a.n(p),v=a(4),h=a.n(v),_=a(1),f=a.n(_),E=(a(0),a(15)),b=a.n(E),k=a(11),w=a.n(k),N=a(366),y=a(1731),C=a.n(y),S=a(1732),x=a.n(S),O=a(5),z=a(22),R=a(150),A=(a(58),a(1657)),T=a(24),j=a(56),M=function(e){var t=e.username,a=e.slug,n=e.full_name,o=e.avatar,i=e.profile;return f.a.createElement(b.a,{className:"collection-card-new__author-container",to:O.a.profile(a),href:O.a.profile(a)},f.a.createElement("span",null,T.a.getName({full_name:n,username:t})),f.a.createElement(j.a,{className:"collection-card-new__author__avatar",size:20,src:o,profile:i}))};M.defaultProps={avatar:""};var B=M,L=function(e){var t=e.amount,a=e.description,n=e.icon,o=e.isPositive,i=e.alignRight,c=e.size,r=e.images,l=o?"+":"-";return t?f.a.createElement("div",{className:w()("collection-card-new__meta-list-item",{"collection-card-new__meta-list-item-inline":i})},f.a.createElement("div",{className:w()("collection-card-new__meta-list-item__amount",o&&"collection-card-new__meta-list-item__amount-positive",void 0!==o&&!o&&0!==t&&"collection-card-new__meta-list-item__amount-negative")},0!==t&&void 0!==o&&l,t,n&&f.a.createElement("div",{className:w()("collection-card-new__meta-list-item__icon","collection-card-new__meta-list-item__icon_".concat(c,"_").concat(n))}),r&&f.a.createElement("img",{src:r[0],srcSet:"".concat(r[1]," 2x"),alt:"",className:"collections-card-new__meta-list-item__image"})),f.a.createElement("div",{className:"collection-card-new__meta-list-item__description"},a)):null};L.defaultProps={amount:0,images:void 0,description:"",icon:void 0,isPositive:void 0,alignRight:!1};var D=L,U=a(209),I=function(e){var t,a=e.date,n=e.description,o=e.images;return f.a.createElement("div",{className:"collection-card-new__meta-list-item"},f.a.createElement("div",{className:"collection-card-new__meta-list-item__amount"},f.a.createElement(U.a,{date:a}),o&&(t=(new Date).getTime()-6048e5,a.getTime()>t)&&f.a.createElement("img",{src:o[0],srcSet:"".concat(o[1]," 2x"),alt:"",className:"collections-card-new__meta-list-item__image"})),f.a.createElement("div",{className:"collection-card-new__meta-list-item__description"},n))};I.defaultProps={images:void 0,description:""};var P=I,F=a(350),H=a.n(F),W={backgrounds:void 0,background:void 0,followers_count:void 0,likes_count:void 0,games_count:void 0,likes_positive:void 0,className:"",promo:"",avatar:void 0,noindex:!1},G=f.a.createElement("div",{className:"collection-card-new__inline__obscurer"}),V=f.a.createElement("div",{className:"collection-card-new__e3-2018-promo-inline"}),Y=f.a.createElement("div",{className:"collection-card-new__gamescom-promo-inline"}),q=function(e){var t,a=e.userslug,n=e.avatar,o=e.name,i=e.followers_count,c=e.likes_count,r=e.likes_positive,l=e.backgrounds,s=e.background,d=e.path,m=e.profile,u=e.games_count,p=e.size,g=e.className,v=e.promo,h=e.noindex,_=z.a.promos.e3&&"e3"===v,E=z.a.promos.gamescom&&"gamescom"===v;return r?t="upvote":0!==c&&(t="downvote"),f.a.createElement("div",{className:["collection-card-new__inline-container",g].join(" ")},s&&f.a.createElement("div",{className:"collection-card-new__inline__background",style:{backgroundImage:"url(".concat(s,")")}}),s&&G,f.a.createElement(b.a,{className:"collection-card-new__inline-images",to:d,href:d,rel:h?"nofollow":void 0},Array.isArray(l)&&l.map(function(e){return f.a.createElement("div",{className:"collection-card-new__game-small",style:{backgroundImage:e.url?"url(".concat(e.url.replace("/media/","/media/resize/200/-/"),")"):""},key:e.url})}),Array.isArray(l)&&H()(Math.max(0,4-l.length)).map(function(e){return f.a.createElement("div",{className:"collection-card-new__game-small",key:e})})),f.a.createElement("div",{className:"collection-card-new__title-inline"},f.a.createElement("div",{className:"collection-card-new__title-inline-wrap"},f.a.createElement(b.a,{className:"collection-card-new__title-link-inline",to:d,href:d,rel:h?"nofollow":void 0},o,_&&V,E&&Y),f.a.createElement("div",{className:"collection-card-new__author collection-card-new__author_inline"},"byÂ ",f.a.createElement(B,{username:m.username,slug:a,avatar:n,full_name:m.full_name,profile:m}))),f.a.createElement("div",{className:"collection-card-new__meta-list-item-container"},f.a.createElement(D,{amount:u,description:"games",alignRight:!0,size:p}),f.a.createElement(D,{amount:i,description:"followers",alignRight:!0,size:p}),f.a.createElement(D,{isPositive:r,amount:c,description:"votes",icon:t,alignRight:!0,size:p}))))};q.defaultProps=W;var K=q;a(1372);a.d(t,"a",function(){return $});var X=f.a.createElement("div",{className:"collection-card-new__e3-2018-promo"}),J=f.a.createElement("div",{className:"collection-card-new__gamescom-promo"}),Q=f.a.createElement("span",{className:"collection-card-new__author__prefix"},"by:Â "),Z=f.a.createElement(A.a,{className:"collection-card-new__add-game",title:"Add a game"}),$=function(e){function t(){return c()(this,t),d()(this,u()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.collection,a=void 0===t?{}:t,n=e.kind,i=e.size,c=e.background,r=a.creator,l=r.avatar,s=r.full_name,d=r.username,m=r.slug,u=a.likes_count,p=a.likes_positive,g=a.slug,v=a.name,h=a.games_count,_=a.game_background,E=a.game_covers,k=a.backgrounds,y=a.followers_count,S=a.created,A=a.updated,T=a.promo,j=a.noindex,M=A?new Date(A):new Date(S),L=a.games,U=[C.a,x.a],I=z.a.promos.e3&&"e3"===T,F=z.a.promos.gamescom&&"gamescom"===T;L=L||(E?E.map(function(e,t){return o()({},e,{background_image:e.url,title:"",id:"".concat(e.url).concat(t)})}):[]);var H=_&&_.url?_:L[0];return"inline"===n?f.a.createElement(K,{userslug:m,avatar:l,name:v,className:this.props.className,games_count:h,followers_count:y,likes_count:u,likes_positive:p,background:c,backgrounds:k,path:O.a.collection(g),profile:a.creator,size:i,promo:T,noindex:j}):f.a.createElement("div",{className:this.className,style:{backgroundImage:H&&H.url?"\n            linear-gradient(to bottom, rgba(32,32,32,0.6), rgb(32,32,32) 50%),\n            url('".concat(Object(R.a)(640,H.url),"')\n          "):"\n            linear-gradient(to bottom, rgba(32,32,32,0.8), rgb(32,32,32) 50%)\n          "}},I&&X,F&&J,f.a.createElement("div",{className:"collection-card-new__meta"},f.a.createElement(b.a,{rel:j?"nofollow":void 0,className:"collection-card-new__link",to:O.a.collection(g),href:O.a.collection(g)},Object(N.a)(v,30)),f.a.createElement("div",{className:"collection-card-new__author"},Q,f.a.createElement(B,{username:d,slug:m,avatar:l,full_name:s,profile:a.creator})),f.a.createElement("div",{className:"collection-card-new__meta-list"},f.a.createElement(D,{size:i,amount:h,description:"games"}),f.a.createElement(D,{size:i,amount:y,description:"followers"}),f.a.createElement(D,{isPositive:p,amount:u,description:"votes",icon:p?"upvote":void 0,size:i}),!y&&!p&&f.a.createElement(P,{date:M,description:A?"last updated":"created",images:U}))),f.a.createElement(b.a,{rel:j?"nofollow":void 0,className:"collection-card-new__link collection-card-new__link_big",to:O.a.collection(g),href:O.a.collection(g)},0===L.length?Z:f.a.createElement("div",{className:"collection-card-new__games"},L.map(function(e,t){return f.a.createElement("div",{className:w()("collection-card-new__game",{"collection-card-new__game-center":3===L.length&&1===t,"collection-card-new__game_pair":2===L.length,"collection-card-new__game_single":1===L.length}),style:{backgroundImage:e.background_image?"url(".concat(e.background_image.replace("/media/","/media/resize/420/-/"),")"):""},key:e.id})}))))}},{key:"className",get:function(){var e,t=this.props,a=t.className,n=t.kind;return w()("collection-card-new",(e={},h()(e,"collection-card-new_".concat(n),n),h()(e,a,a),e))}}]),t}(f.a.Component);h()($,"defaultProps",{collection:{},className:"",kind:void 0,background:void 0})},1731:function(e,t,a){e.exports=a.p+"images/lightning.0bf40dde006704fe454385087b247492.png"},1732:function(e,t,a){e.exports=a.p+"images/lightning@2x.357b30230fc262f4c30791cc2f389619.png"},1733:function(e,t){},1734:function(e,t){},1735:function(e,t){},1736:function(e,t){},1737:function(e,t){},1746:function(e,t,a){"use strict";a.d(t,"a",function(){return N});var n=a(14),o=a.n(n),i=a(19),c=a.n(i),r=a(17),l=a.n(r),s=a(16),d=a.n(s),m=a(18),u=a.n(m),p=a(6),g=a.n(p),v=a(4),h=a.n(v),_=a(1),f=a.n(_),E=a(0),b=a.n(E),k=926,w=436,N=(b.a.string.isRequired,b.a.oneOf(["facebook","twitter"]).isRequired,b.a.string,b.a.node.isRequired,function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a=l()(this,(e=d()(t)).call.apply(e,[this].concat(i))),h()(g()(g()(a)),"getShareUrl",function(){var e=a.props.url,t=a.props.provider;switch(e=decodeURIComponent("".concat(window.location.origin).concat(e)),t){case"facebook":return"https://facebook.com/sharer.php?u=".concat(e);case"twitter":return"https://twitter.com/share?url=".concat(e);default:return""}}),h()(g()(g()(a)),"share",function(){var e=window.document.documentElement.clientWidth/2-k/2+window.screenX,t=window.document.documentElement.clientHeight/2-w/2+window.screenY;window.open(a.getShareUrl(),"","toolbar=0,status=0,width=".concat(k,",height=").concat(w,",top=").concat(t,",left=").concat(e))}),a}return u()(t,e),c()(t,[{key:"render",value:function(){var e=this.props.className,t=void 0===e?"":e;return f.a.createElement("div",{className:t,onClick:this.share,role:"button",tabIndex:0},this.props.children)}}]),t}(_.Component));h()(N,"defaultProps",{className:""})},1775:function(e,t,a){"use strict";a.d(t,"a",function(){return B});var n,o,i,c=a(14),r=a.n(c),l=a(19),s=a.n(l),d=a(17),m=a.n(d),u=a(16),p=a.n(u),g=a(18),v=a.n(g),h=a(6),_=a.n(h),f=a(4),E=a.n(f),b=a(1),k=a.n(b),w=(a(0),a(25)),N=a(11),y=a.n(N),C=a(13),S=a.n(C),x=a(138),O=a.n(x),z=a(24),R=a(1652),A=a(1656),T=a(1722),j=(a(58),a(1389),k.a.createElement(A.a,{arrowClassName:"collection-cards-list__slider-arrow",direction:"next"})),M=k.a.createElement(A.a,{arrowClassName:"collection-cards-list__slider-arrow",direction:"prev"}),B=Object(w.connect)(function(e){return{size:e.app.size}})((i=o=function(e){function t(){var e,a;r()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return a=m()(this,(e=p()(t)).call.apply(e,[this].concat(o))),E()(_()(_()(a)),"state",{step:1}),E()(_()(_()(a)),"moreCollections",function(){a.setState(S()({step:O.a}))}),a}return v()(t,e),s()(t,[{key:"getClassName",value:function(){var e,t=this.props,a=t.className,n=t.kind,o=void 0===n?"common":n;return y()("collection-cards-list",(e={},E()(e,"collection-cards-list_".concat(o),o),E()(e,a,a),e))}},{key:"renderTiles",value:function(){var e=this.props,t=e.collections,a=e.size,n=z.a.isDesktopSize({size:a});return k.a.createElement("div",null,k.a.createElement("div",{className:y()(this.getClassName(),"collection-cards-list__tiles")},k.a.createElement("div",null,t.map(function(e,t){return(!n||t%2==0)&&k.a.createElement("div",{className:"collection-cards-list__tiles__tile",key:e.id},k.a.createElement(T.a,{size:a,collection:e}))})),n&&k.a.createElement("div",{className:"collection-cards-list__tiles__tile__right__column"},t.map(function(e,t){return n=t,1===Math.abs(n%2)&&k.a.createElement("div",{className:"collection-cards-list__tiles__tile",key:e.id},k.a.createElement(T.a,{size:a,collection:e}));var n}))))}},{key:"renderSlider",value:function(e){var t=this.props,a=t.collections,n=t.size;return k.a.createElement("div",{className:this.getClassName()},k.a.createElement(R.a,{arrows:z.a.isDesktopSize({size:n})&&a.length>3,nextArrow:j,prevArrow:M,adaptiveHeight:!1,dots:z.a.isPhoneSize({size:n}),variableWidth:!0,infinite:z.a.isDesktopSize({size:n})&&a.length>3,slidesToScroll:z.a.isDesktopSize({size:n})?3:1,slidesToShow:1,centerView:!0},a.slice(0,4*e).map(function(e){return k.a.createElement("div",{className:"collection-cards-list__slide",key:e.id},k.a.createElement(T.a,{size:n,collection:e}))}),4*e<=a.length&&k.a.createElement("div",{className:"collections-cards-list__button_slide"},k.a.createElement("div",{className:"collections-cards-list__button_container"},k.a.createElement("div",{className:"collection-cards-list__button",onClick:this.moreCollections,role:"button",tabIndex:0},"More")))))}},{key:"render",value:function(){switch(this.props.kind){case"slider":return this.renderSlider(this.state.step);case"common":return this.renderTiles(this.state.step);default:return k.a.createElement("div",{className:this.getClassName()},this.props.children)}}}]),t}(b.Component),E()(o,"defaultProps",{kind:void 0,children:void 0,collections:void 0,className:""}),n=i))||n},1915:function(e,t,a){"use strict";a.d(t,"a",function(){return T});var n,o,i,c=a(14),r=a.n(c),l=a(19),s=a.n(l),d=a(17),m=a.n(d),u=a(16),p=a.n(u),g=a(18),v=a.n(g),h=a(6),_=a.n(h),f=a(4),E=a.n(f),b=a(1),k=a.n(b),w=(a(0),a(25)),N=a(10),y=a(1658),C=a(1660),S=a(1683),x=a(129),O=k.a.createElement(N.c,{id:"shared.comment_load_next"}),z=k.a.createElement(N.c,{id:"shared.comment_load_next"}),R=k.a.createElement(N.c,{id:"shared.comment_load_previous"}),A=k.a.createElement(N.c,{id:"shared.comment_load_previous"}),T=Object(w.connect)(function(e){return{collectionComments:e.collectionComments}})((i=o=function(e){function t(){var e,a;r()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return a=m()(this,(e=p()(t)).call.apply(e,[this].concat(o))),E()(_()(_()(a)),"handleCreate",function(e,t){var n=a.props,o=n.dispatch,i=n.collection,c=n.item;return o(Object(x.h)({collection:i,item:c,text:t,parentComment:e}))}),E()(_()(_()(a)),"handleEdit",function(e,t){var n=a.props,o=n.dispatch,i=n.collection,c=n.item;return o(Object(x.i)({collection:i,item:c,comment:e,text:t}))}),E()(_()(_()(a)),"handleRemove",function(e){var t=a.props,n=t.dispatch,o=t.collection,i=t.item;return n(Object(x.n)({collection:o,item:i,comment:e}))}),E()(_()(_()(a)),"handleLoadReplies",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.shift,i=n.push,c=a.props,r=c.dispatch,l=c.collection,s=c.item;return r(Object(x.m)({collection:l,item:s,comment:e,page:t,shift:o,push:i}))}),E()(_()(_()(a)),"handleLike",function(e,t){var n=a.props,o=n.dispatch,i=n.collection,c=n.item;return o(t?Object(x.k)({collection:i,item:c,comment:e}):Object(x.o)({collection:i,item:c,comment:e}))}),E()(_()(_()(a)),"handleLoad",function(e,t){var n=t.shift,o=t.push,i=a.props,c=i.dispatch,r=i.collection,l=i.item;c(Object(x.l)({collection:r,item:l,page:e,shift:n,push:o}))}),a}return v()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.item,n=void 0===a?{}:a;n.id&&n.comments&&t(Object(x.g)({item:n}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.dispatch;e.item.id&&e.item.comments&&!this.props.item.id&&t(Object(x.g)({item:e.item}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.item,n=t.collectionComments,o=t.className,i=n[a.id]||{},c=i.results||[],r=c.filter(function(e){return!e.parent});return k.a.createElement(S.a,{className:["collection-comments",o].join(" "),useId:!0},i.next&&k.a.createElement("div",{className:"comments-list__load comments-list__load_next",onClick:function(){return e.handleLoad(i.next,{shift:!0})},role:"button",tabIndex:0},O),r.map(function(t){return k.a.createElement("div",{key:t.id},k.a.createElement(C.a,{comment:t,onCreate:e.handleCreate,onEdit:e.handleEdit,onRemove:e.handleRemove,onLoadReplies:e.handleLoadReplies,onLike:e.handleLike,comments:r}),i.childrenNext&&k.a.createElement("div",{className:"comments-list__load comments-list__load_next comments-list__load_children",onClick:function(){return e.handleLoadReplies(i.childrenNext,{shift:!0})},role:"button",tabIndex:0},z),c.filter(function(e){return e.parent===t.id}).map(function(t){return k.a.createElement(C.a,{comment:t,onCreate:e.handleCreate,onEdit:e.handleEdit,onRemove:e.handleRemove,onLoadReplies:e.handleLoadReplies,onLike:e.handleLike,child:!0,key:t.id,comments:r})}),i.childrenPrevious&&k.a.createElement("div",{className:"comments-list__load comments-list__load_previous comments-list__load_children",onClick:function(){return e.handleLoadReplies(i.childrenPrevious,{push:!0})},role:"button",tabIndex:0},R))}),i.previous&&k.a.createElement("div",{className:"comments-list__load comments-list__load_previous",onClick:function(){return e.handleLoad(i.previous,{push:!0})},role:"button",tabIndex:0},A),k.a.createElement(y.a,{value:"",onSubmit:function(t){return e.handleCreate(null,t)}}))}}]),t}(b.Component),E()(o,"defaultProps",{className:""}),n=i))||n},1943:function(e,t){e.exports='<svg width="22" height="20" viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M21.654 6.305L15.665.311a.96.96 0 0 0-.702-.296c-.124 0-.254.026-.39.078-.405.177-.608.484-.608.92v2.998H11.47a25.46 25.46 0 0 0-3.064.172c-.941.114-1.77.272-2.488.476a10.06 10.06 0 0 0-1.941.757 8.304 8.304 0 0 0-1.474.96A6.084 6.084 0 0 0 1.435 7.53a7.169 7.169 0 0 0-.733 1.272 7.355 7.355 0 0 0-.437 1.373c-.11.5-.182.968-.218 1.405-.037.437-.055.91-.055 1.42 0 .583.091 1.218.273 1.905.182.686.382 1.28.6 1.779a18.8 18.8 0 0 0 .773 1.553c.296.536.501.892.615 1.069.115.176.224.338.328.484.104.135.24.202.405.202.042 0 .104-.01.188-.03.239-.115.343-.292.311-.531-.467-3.497-.083-5.958 1.154-7.383 1.196-1.363 3.473-2.045 6.83-2.045h2.496V13c0 .437.203.744.609.921.135.052.265.078.39.078.28 0 .514-.099.701-.297l5.989-5.993a.961.961 0 0 0 .296-.703.96.96 0 0 0-.296-.702z"/></svg>'},2307:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="19" height="20" viewBox="0 0 19 20"><path fill="#57A76D" d="M18.43 13.597c.4-.523.592-1.083.568-1.66a2.585 2.585 0 0 0-.531-1.44c.265-.677.367-1.743-.52-2.571-.65-.607-1.753-.879-3.282-.803-1.075.05-1.974.255-2.01.263h-.005c-.204.038-.42.084-.641.134-.017-.268.028-.933.51-2.43.573-1.782.54-3.145-.106-4.057C11.735.075 10.652 0 10.333 0c-.307 0-.589.13-.79.368-.453.54-.4 1.535-.342 1.995-.54 1.48-2.052 5.11-3.332 6.119a.44.44 0 0 0-.065.058 4.49 4.49 0 0 0-.801 1.23 1.657 1.657 0 0 0-.81-.21H1.7c-.94 0-1.7.783-1.7 1.74v6.797c0 .962.764 1.74 1.7 1.74h2.494c.363 0 .703-.117.98-.318l.961.117c.147.021 2.763.36 5.448.305.487.038.945.059 1.37.059.731 0 1.369-.059 1.9-.176 1.251-.272 2.105-.815 2.539-1.614.33-.61.33-1.217.278-1.602.813-.753.956-1.585.927-2.17a2.882 2.882 0 0 0-.167-.841zM1.7 18.707a.605.605 0 0 1-.596-.61v-6.8c0-.34.27-.611.596-.611h2.494c.33 0 .596.276.596.61v6.797c0 .339-.27.61-.596.61H1.7v.005zm15.683-5.6a.572.572 0 0 0-.073.682c0 .004.167.297.188.699.028.548-.229 1.033-.769 1.447a.578.578 0 0 0-.188.644c0 .004.176.556-.11 1.079-.274.502-.883.861-1.807 1.062-.74.163-1.745.193-2.98.092h-.056c-2.629.059-5.285-.293-5.314-.297H6.27l-.413-.05c.025-.117.037-.242.037-.368v-6.8c0-.18-.029-.356-.078-.52.074-.28.278-.902.76-1.434 1.836-1.489 3.63-6.512 3.708-6.729a.541.541 0 0 0 .024-.28c-.07-.469-.045-1.042.053-1.213.217.004.802.067 1.153.564.417.59.4 1.644-.049 3.041-.687 2.129-.744 3.25-.2 3.743.27.247.63.26.89.163.25-.058.487-.108.712-.146.016-.004.037-.008.053-.013 1.255-.28 3.503-.451 4.284.276.662.62.192 1.44.139 1.527a.568.568 0 0 0 .098.728c.004.004.433.418.453.974.017.372-.155.753-.51 1.13z"/></svg>'},2308:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="19" height="20" viewBox="0 0 19 20"><path fill="#8AFFAA" d="M18.43 13.597c.4-.523.592-1.083.568-1.66a2.585 2.585 0 0 0-.531-1.44c.265-.677.367-1.743-.52-2.571-.65-.607-1.753-.879-3.282-.803-1.075.05-1.974.255-2.01.263h-.005c-.204.038-.42.084-.641.134-.017-.268.028-.933.51-2.43.573-1.782.54-3.145-.106-4.057C11.735.075 10.652 0 10.333 0c-.307 0-.589.13-.79.368-.453.54-.4 1.535-.342 1.995-.54 1.48-2.052 5.11-3.332 6.119a.44.44 0 0 0-.065.058 4.49 4.49 0 0 0-.801 1.23 1.657 1.657 0 0 0-.81-.21H1.7c-.94 0-1.7.783-1.7 1.74v6.797c0 .962.764 1.74 1.7 1.74h2.494c.363 0 .703-.117.98-.318l.961.117c.147.021 2.763.36 5.448.305.487.038.945.059 1.37.059.731 0 1.369-.059 1.9-.176 1.251-.272 2.105-.815 2.539-1.614.33-.61.33-1.217.278-1.602.813-.753.956-1.585.927-2.17a2.882 2.882 0 0 0-.167-.841zM1.7 18.707a.605.605 0 0 1-.596-.61v-6.8c0-.34.27-.611.596-.611h2.494c.33 0 .596.276.596.61v6.797c0 .339-.27.61-.596.61H1.7v.005z"/></svg>'},2309:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="19" height="20" viewBox="0 0 19 20"><path fill="#AD5756" d="M18.43 6.403c.4.523.592 1.083.568 1.66a2.585 2.585 0 0 1-.531 1.44c.265.677.367 1.743-.52 2.571-.65.607-1.753.879-3.282.803-1.075-.05-1.974-.255-2.01-.263h-.005a16.003 16.003 0 0 1-.641-.134c-.017.268.028.933.51 2.43.573 1.782.54 3.145-.106 4.057-.678.958-1.761 1.033-2.08 1.033a1.02 1.02 0 0 1-.79-.368c-.453-.54-.4-1.535-.342-1.995-.54-1.48-2.052-5.11-3.332-6.119a.44.44 0 0 1-.065-.058 4.503 4.503 0 0 1-.801-1.23c-.241.134-.515.21-.81.21H1.7C.76 10.44 0 9.656 0 8.7V1.902C0 .941.764.163 1.7.163h2.494c.363 0 .703.117.98.318l.961-.117c.147-.021 2.763-.36 5.448-.305A17.88 17.88 0 0 1 12.953 0c.731 0 1.369.059 1.9.176 1.251.272 2.105.815 2.539 1.614.33.61.33 1.217.278 1.602.813.753.956 1.585.927 2.17-.016.34-.09.628-.167.841zM1.7 1.293a.605.605 0 0 0-.596.61v6.8c0 .34.27.611.596.611h2.494a.605.605 0 0 0 .596-.61V1.906c0-.339-.27-.61-.596-.61H1.7v-.005zm15.683 5.6a.572.572 0 0 1-.073-.682c0-.004.167-.297.188-.699.028-.548-.229-1.033-.769-1.447a.578.578 0 0 1-.188-.644c0-.004.176-.556-.11-1.079-.274-.502-.883-.861-1.807-1.062-.74-.163-1.745-.193-2.98-.092h-.056c-2.629-.059-5.285.293-5.314.297H6.27l-.413.05c.025.117.037.242.037.368v6.8c0 .18-.029.356-.078.52.074.28.278.902.76 1.434 1.836 1.489 3.63 6.512 3.708 6.729.032.088.04.184.024.28-.07.469-.045 1.042.053 1.213.217-.004.802-.067 1.153-.564.417-.59.4-1.644-.049-3.041-.687-2.129-.744-3.25-.2-3.743.27-.247.63-.26.89-.163.25.058.487.108.712.146.016.004.037.008.053.013 1.255.28 3.503.451 4.284-.276.662-.62.192-1.44.139-1.527a.568.568 0 0 1 .098-.728c.004-.004.433-.418.453-.974.017-.372-.155-.753-.51-1.13z"/></svg>'},2310:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="19" height="20" viewBox="0 0 19 20"><path fill="#D63044" d="M18.43 6.403c.4.523.592 1.083.568 1.66a2.585 2.585 0 0 1-.531 1.44c.265.677.367 1.743-.52 2.571-.65.607-1.753.879-3.282.803-1.075-.05-1.974-.255-2.01-.263h-.005a16.003 16.003 0 0 1-.641-.134c-.017.268.028.933.51 2.43.573 1.782.54 3.145-.106 4.057-.678.958-1.761 1.033-2.08 1.033a1.02 1.02 0 0 1-.79-.368c-.453-.54-.4-1.535-.342-1.995-.54-1.48-2.052-5.11-3.332-6.119a.44.44 0 0 1-.065-.058 4.503 4.503 0 0 1-.801-1.23c-.241.134-.515.21-.81.21H1.7C.76 10.44 0 9.656 0 8.7V1.902C0 .941.764.163 1.7.163h2.494c.363 0 .703.117.98.318l.961-.117c.147-.021 2.763-.36 5.448-.305A17.88 17.88 0 0 1 12.953 0c.731 0 1.369.059 1.9.176 1.251.272 2.105.815 2.539 1.614.33.61.33 1.217.278 1.602.813.753.956 1.585.927 2.17-.016.34-.09.628-.167.841zM1.7 1.293a.605.605 0 0 0-.596.61v6.8c0 .34.27.611.596.611h2.494a.605.605 0 0 0 .596-.61V1.906c0-.339-.27-.61-.596-.61H1.7v-.005z"/></svg>'},2425:function(e,t,a){"use strict";a.r(t);var n,o,i,c,r,l,s,d,m,u,p,g,v=a(9),h=a.n(v),_=a(14),f=a.n(_),E=a(19),b=a.n(E),k=a(17),w=a.n(k),N=a(16),y=a.n(N),C=a(18),S=a.n(C),x=a(6),O=a.n(x),z=a(4),R=a.n(z),A=a(3),T=a.n(A),j=a(7),M=a.n(j),B=a(1),L=a.n(B),D=(a(0),a(25)),U=a(27),I=a(15),P=a.n(I),F=a(30),H=a.n(F),W=a(10),G=a(1697),V=a.n(G),Y=a(207),q=a(370),K=a(1649),X=a(366),J=a(28),Q=a(1943),Z=a.n(Q),$=a(71),ee=a.n($),te=a(2307),ae=a.n(te),ne=a(2308),oe=a.n(ne),ie=a(2309),ce=a.n(ie),re=a(2310),le=a.n(re),se=a(21),de=a(210),me=a(211),ue=a(149),pe=a(56),ge=a(1676),ve=a(208),he=a(1657),_e=a(1650),fe=a(70),Ee=a(209),be=a(1746),ke=a(129),we=(a(67),a(24)),Ne=a(5),ye=a(22),Ce=a(89),Se=a.n(Ce),xe=a(11),Oe=a.n(xe),ze=a(31),Re=a.n(ze),Ae=a(150),Te=a(1662),je=a(1670),Me=a(1685),Be=a(1915),Le=(a(1603),a(54)),De=L.a.createElement(je.a,{className:"collection-feed-item__menu-button",kind:"inline"}),Ue=L.a.createElement(W.c,{id:"shared.games_card_background"}),Ie=L.a.createElement(W.c,{id:"collection.edit"}),Pe=L.a.createElement(W.c,{id:"collection.delete"}),Fe=L.a.createElement(W.c,{id:"collection.add_description"}),He=Object(D.connect)(function(e){return{currentUser:e.currentUser}})((i=o=function(e){function t(){var e,a;f()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return a=w()(this,(e=y()(t)).call.apply(e,[this].concat(o))),R()(O()(O()(a)),"state",{menuKey:0}),R()(O()(O()(a)),"setBackground",function(){var e=a.props,t=e.collection,n=e.item;(0,e.dispatch)(Object(Le.K)(t.id,n.game)).then(function(){a.setState(function(e){return{menuKey:e.menuKey+1}})})}),R()(O()(O()(a)),"remove",function(){var e=a.props,t=e.collection,n=e.item;(0,e.dispatch)(Object(Le.G)(t.id,n))}),R()(O()(O()(a)),"renderMenuButton",function(){return De}),R()(O()(O()(a)),"renderMenuContent",function(){var e=a.props,t=e.collection,n=e.item,o=n.id,i=n.game;return L.a.createElement("div",{className:"collection-feed-item__menu-content"},i&&L.a.createElement("div",{className:"collection-feed-item__menu-content-item",onClick:a.setBackground,role:"button",tabIndex:0},Ue),L.a.createElement(P.a,{to:Ne.a.collectionFeedItemText(t.slug,o),href:Ne.a.collectionFeedItemText(t.slug,o),className:"collection-feed-item__menu-content-item"},Ie),L.a.createElement(Te.a,{className:"collection-feed-item__menu-content-item",onConfirm:a.remove},Pe))}),a}return S()(t,e),b()(t,[{key:"getClassName",value:function(){var e=this.props.className;return Oe()("collection-feed-item",R()({},e,e))}},{key:"renderBackground",value:function(){var e=this.props.item.game,t=(void 0===e?{}:e).background_image,a={backgroundImage:t?"\n        linear-gradient(to bottom, rgba(0,0,0,0), rgba(32,32,32,1.0)),\n        url('".concat(Object(Ae.a)(640,t),"')\n      "):"\n        linear-gradient(to bottom, rgba(0,0,0,0), rgba(32,32,32,1.0))\n      "};return L.a.createElement("div",{className:"collection-feed-item__background",style:a})}},{key:"renderHeader",value:function(){var e=this.props,t=e.collection,a=e.item,n=e.currentUser,o=t.creator,i=a.user,c=a.created,r=a.game,l=void 0===r?{}:r,s=i||o;if("object"!==Se()(s))return null;var d=s.avatar,m=s.slug,u=new Date(c||Date.now()),p=L.a.createElement(P.a,{to:{pathname:Ne.a.game(l.slug),state:l},href:Ne.a.game(l.slug)},l.name),g=L.a.createElement(P.a,{to:Ne.a.profile(m),href:Ne.a.profile(m)},we.a.getName(s));return L.a.createElement("div",{className:"collection-feed-item__header"},L.a.createElement("div",{className:"collection-feed-item__header-avatar"},L.a.createElement(pe.a,{src:d,size:40,profile:s})),L.a.createElement("div",{className:"collection-feed-item__header-text"},L.a.createElement("div",{className:"collection-feed-item__header-meta"},L.a.createElement(W.c,{id:"collection.user_added_game",values:{user:g,game:p}})),L.a.createElement("div",{className:"collection-feed-item__header-date"},L.a.createElement(Ee.a,{date:u,relative:1}))),n.id===Re()(o,"id")&&this.renderMenu())}},{key:"renderMenu",value:function(){var e=this.props,t=e.collection,a=e.currentUser,n=t.creator,o=this.state.menuKey;return a.id!==Re()(n,"id")?null:L.a.createElement("div",{className:"collection-feed-item__menu",key:o},L.a.createElement(fe.a,{renderButton:this.renderMenuButton,renderContent:this.renderMenuContent,containerClassName:"collection-feed-item__menu-dropdown-container",kind:"menu"}))}},{key:"renderText",value:function(){var e=this.props.item;return e.text?L.a.createElement(Me.a,{className:"collection-feed-item__text",content:e.text}):null}},{key:"renderCard",value:function(){var e=this.props,t=e.item,a=e.collection,n=e.currentUser,o=t.game;return L.a.createElement(ve.a,{className:"collection-feed-item__game-card",menuClassName:"collection-feed-item__game-card-menu",game:o,menu:!0},!t.text&&n.id===Re()(a,"creator.id")&&L.a.createElement(P.a,{className:"collection-feed-item__text-button",to:Ne.a.collectionFeedItemText(a.slug,t.id),href:Ne.a.collectionFeedItemText(a.slug,t.id)},Fe))}},{key:"renderComments",value:function(){var e=this.props,t=e.collection,a=void 0===t?{}:t,n=e.item,o=void 0===n?{}:n;return L.a.createElement("div",{className:"collection-feed-item__comments"},L.a.createElement(Be.a,{collection:a,item:o}))}},{key:"render",value:function(){return L.a.createElement("div",{id:this.props.item.id},L.a.createElement("div",{className:this.getClassName()},this.renderBackground(),this.renderHeader(),this.renderCard(),this.renderText()),this.renderComments())}}]),t}(B.Component),R()(o,"defaultProps",{className:""}),n=i))||n,We=a(1775),Ge=(a(1604),L.a.createElement("div",{className:"collection-recommendations__title"},L.a.createElement(W.c,{id:"collection.collection-recommendations_title"}))),Ve=Object(D.connect)(function(e){return{recommendations:e.collection.recommendations}})((l=r=function(e){function t(){return f()(this,t),w()(this,y()(t).apply(this,arguments))}return S()(t,e),b()(t,[{key:"getClassName",value:function(){var e=this.props.className;return Oe()("collection-recommendations",R()({},e,e))}},{key:"render",value:function(){var e=this.props.recommendations;return e.count?L.a.createElement("div",{className:this.getClassName()},Ge,L.a.createElement(We.a,{collections:e.results,kind:"common"})):null}}]),t}(B.Component),R()(r,"defaultProps",{className:""}),c=l))||c,Ye=(a(1605),L.a.createElement("div",{className:"collection-sharing__separator"})),qe=L.a.createElement("div",{className:"collection-sharing__image"}),Ke=L.a.createElement("div",{className:"collection-sharing__title"},L.a.createElement(W.c,{id:"collection.sharing_title"})),Xe=L.a.createElement("div",{className:"collection-sharing__description"},L.a.createElement(W.c,{id:"collection.sharing_description"})),Je=Object(D.connect)(function(e){return{currentUser:e.currentUser,collection:e.collection}})((m=d=function(e){function t(){return f()(this,t),w()(this,y()(t).apply(this,arguments))}return S()(t,e),b()(t,[{key:"render",value:function(){var e=this.props.collection,t=Ne.a.collection(e.slug);return L.a.createElement("div",{className:"collection-sharing"},Ye,L.a.createElement("div",{className:"collection-sharing__info"},qe,L.a.createElement("div",{className:"collection-sharing__text"},Ke,Xe,L.a.createElement("div",{className:"collection-sharing__buttons"},L.a.createElement(be.a,{className:"collection-sharing__button collection-sharing__button_fb",provider:"facebook",url:t},"Facebook"),L.a.createElement(be.a,{className:"collection-sharing__button collection-sharing__button_tw",provider:"twitter",url:t},"Twitter")))))}}]),t}(B.Component),R()(d,"defaultProps",{collection:{}}),s=m))||s;a(1409);a.d(t,"default",function(){return dt});var Qe=L.a.createElement(Ve,null),Ze=L.a.createElement(Je,null),$e=L.a.createElement("div",{className:"collection-title__e3-2018-promo"}),et=L.a.createElement("div",{className:"collection-title__gamescom-promo"}),tt=L.a.createElement(ue.b,{className:"collection-buttons__button",kind:"fill",size:"medium"},L.a.createElement(J.a,{id:"collection.edit"})),at=L.a.createElement(H.a,{svg:ee.a,className:"collection-buttons__button-icon"}),nt=L.a.createElement(H.a,{svg:Z.a,className:"collection-buttons__share-icon"}),ot=L.a.createElement("div",{className:"collection-buttons__share-title"},L.a.createElement(J.a,{id:"collection.share_title"})),it=L.a.createElement(he.a,{className:"collection-add__card",title:L.a.createElement(J.a,{id:"collection.add_card"})}),ct=L.a.createElement("div",{className:"collection-suggestions__title"},L.a.createElement(J.a,{id:"collection.suggest_title"})),rt=L.a.createElement(J.a,{id:"collection.suggest_card"}),lt=L.a.createElement(J.a,{id:"collection.accept"}),st=L.a.createElement(J.a,{id:"collection.ignore"}),dt=(u=Object(Y.a)(function(){var e=M()(T.a.mark(function e(t){var a,n,o,i,c,r,l,s,d,m,u,p,g;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.store,n=t.location,o=t.params,i=(void 0===o?{}:o).id,c=n.query,r=n.hash,!c.comment){e.next=14;break}return l=JSON.parse(decodeURIComponent(c.item)),s=l.id,d=l.page,m=JSON.parse(decodeURIComponent(c.comment)),u=m.id,p=m.page,g=m.children_page,e.next=8,Promise.all([a.dispatch(Object(Le.B)(i)),a.dispatch(Object(Le.C)(i,d)),a.dispatch(Object(Le.D)(i,1)),a.dispatch(Object(Le.E)()),a.dispatch(Object(ke.l)({collection:{id:i,slug:i},item:{id:s},page:p}))]);case 8:return e.next=10,a.dispatch(Object(ke.m)({collection:{id:i,slug:i},item:{id:s},comment:{id:u},page:g||1}));case 10:return e.next=12,a.dispatch(Object(se.eb)(r.replace("#","")));case 12:e.next=16;break;case 14:return e.next=16,Promise.all([a.dispatch(Object(Le.B)(i)),a.dispatch(Object(Le.C)(i,1)),a.dispatch(Object(Le.D)(i,1)),a.dispatch(Object(Le.E)())]);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),{updateParam:"id"}),p=Object(D.connect)(function(e){return{currentUser:e.currentUser,collection:e.collection}}),u(g=Object(W.g)(g=p(g=function(e){function t(e){var a;f()(this,t),a=w()(this,y()(t).call(this,e)),R()(O()(O()(a)),"loadFeed",function(e){var t=a.props,n=t.dispatch,o=t.params,i=t.collection,c=o.id,r=i.feed.next,l=e;return void 0===l&&(l=r),n(Object(Le.C)(c,l))}),R()(O()(O()(a)),"loadSuggestions",function(e){var t=a.props,n=t.dispatch,o=t.params,i=t.collection,c=o.id,r=i.suggestions.next,l=e;return void 0===l&&(l=r),n(Object(Le.D)(c,l))}),R()(O()(O()(a)),"handleSuggestGameClick",function(){var e=a.props,t=e.dispatch,n=e.params.id;t(Object(se.V)()).then(function(){t(Object(U.push)(Ne.a.collectionSuggest(n)))}).catch(function(e){console.error(e)})}),R()(O()(O()(a)),"follow",function(){var e=a.props,t=e.dispatch,n=e.collection;t(Object(se.V)()).then(function(){t(Object(Le.y)(n))}).catch(function(e){console.error(e)})}),R()(O()(O()(a)),"unfollow",function(){var e=a.props,t=e.dispatch,n=e.collection;t(Object(Le.L)(n))}),R()(O()(O()(a)),"acceptGame",function(e){var t=a.props,n=t.dispatch,o=t.collection.id;n(Object(Le.r)(o,[e],"game"))}),R()(O()(O()(a)),"ignoreGame",function(e){var t=a.props,n=t.dispatch,o=t.collection.id;a.setState(function(t){return{removedRecommendedGames:[].concat(h()(t.removedRecommendedGames),[e.id])}}),n(Object(Le.H)(o,[e]))}),R()(O()(O()(a)),"openSharing",function(){a.setState({sharingOpen:!0})}),R()(O()(O()(a)),"closeSharing",function(){a.setState({sharingOpen:!1})}),R()(O()(O()(a)),"toggleLike",function(e){var t,n,o=e.positive,i=a.props,c=i.dispatch,r=i.collection,l=i.currentUser,s=r.id,d=r.creator,m=a.state.userLike;l&&l.id&&l.id===d.id||c(Object(se.V)()).then(function(){o&&"positive"===m||!o&&"negative"===m?(c(Object(Le.I)(s)),t=-1,n=o?-1:1,m=""):(c(o?Object(Le.A)(s):Object(Le.v)(s)),t=m?0:1,n=m?o&&"negative"===m?2:-2:o?1:-1,m=o?"positive":"negative"),a.setState(function(e){return{likesCount:e.likesCount+t,likesRating:e.likesRating+n,userLike:m}})}).catch(function(e){console.error(e)})}),R()(O()(O()(a)),"renderRecommendations",function(){return Qe}),R()(O()(O()(a)),"renderSharing",function(){return Ze});var n=e.collection,o=void 0===n?{}:n,i=o.likes_rating,c=void 0===i?0:i,r=o.user_like;return a.state={likesRating:c,userLike:r,removedRecommendedGames:[],sharingOpen:!1},a}return S()(t,e),b()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.collection.id&&!this.props.collection.id){var t=e.collection,a=void 0===t?{}:t,n=a.likes_rating,o=void 0===n?0:n,i=a.user_like;this.setState({likesRating:o,userLike:i})}}},{key:"renderTitle",value:function(){var e=this.props.collection,t=e.name,a=e.promo,n=ye.a.promos.e3&&"e3"===a,o=ye.a.promos.gamescom&&"gamescom"===a;return L.a.createElement("div",{className:"collection-title"},n&&$e,o&&et,L.a.createElement(K.a,{className:"collection-title__heading",rank:1},Object(X.a)(t,30)))}},{key:"renderMeta",value:function(){var e=this.props.collection,t=e.created,a=void 0===t?Date.now():t,n=e.creator,o=void 0===n?{}:n,i=new Date(a);return L.a.createElement("div",{className:"collection-meta"},L.a.createElement(W.c,{id:"collection.meta",values:{date:L.a.createElement("span",{className:"collection-meta__value"},L.a.createElement(Ee.a,{date:i,relative:7})),name:L.a.createElement(P.a,{to:Ne.a.profile(o.slug),href:Ne.a.profile(o.slug),className:"collection-meta__value"},we.a.getName(o))}}),L.a.createElement(P.a,{to:Ne.a.profile(o.slug),href:Ne.a.profile(o.slug)},L.a.createElement(pe.a,{size:20,src:o.avatar,profile:o})))}},{key:"renderDescription",value:function(){var e=this.props.collection.description;return L.a.createElement("div",{className:"collection-description",dangerouslySetInnerHTML:{__html:V()(e,{allowedTags:["br","a"]})}})}},{key:"renderCounts",value:function(){var e=this.props.collection,t=void 0===e?{}:e,a=t.games_count,n=t.user_games;return a>0?L.a.createElement("div",{className:"collection-counts"},L.a.createElement("div",{className:"collection-counts__item-counts"},L.a.createElement(W.b,{id:"collection.games_count",values:{gamesCount:a}})),n&&L.a.createElement("div",{className:"collection-counts__user-counts"},L.a.createElement("div",{className:"collection-counts__user-counts-graph"},L.a.createElement("div",{className:"collection-counts__user-counts-graph-inner",style:{width:2*n.percent}})),L.a.createElement("div",{className:"collection-counts__user-counts-text"},L.a.createElement(W.b,{id:"collection.user_count",values:{count1:n.count,count2:a}})))):null}},{key:"renderButtons",value:function(){var e=this,t=this.props,a=t.intl,n=t.currentUser,o=t.collection,i=void 0===o?{}:o,c=i.slug,r=i.following,l=i.follow_loading,s=i.followers_count,d=i.creator,m=void 0===d?{}:d,u=this.state.sharingOpen,p=this.state,g=p.likesRating,v=p.userLike,h=Ne.a.collection(c);return L.a.createElement("div",{className:"collection-buttons"},L.a.createElement("div",{className:"collection-buttons__controls"},n&&n.id&&n.id===m.id?L.a.createElement(P.a,{to:Ne.a.collectionEdit(c),href:Ne.a.collectionEdit(c)},tt):L.a.createElement(ue.b,{className:"collection-buttons__button",kind:"fill",size:"medium",disabled:l,loading:l,onClick:r?this.unfollow:this.follow},L.a.createElement(J.a,{id:"collection.".concat(r?"following":"follow")}),r?at:L.a.createElement("span",{className:"button__additional"},s||"")),L.a.createElement(fe.a,{opened:u,kind:"sharing",onClose:this.closeSharing,renderedButton:L.a.createElement(ue.b,{className:"collection-buttons__share-button",kind:"fill",size:"medium",onClick:this.openSharing},nt),renderedContent:L.a.createElement("div",{className:"collection-buttons__share-content"},ot,L.a.createElement("div",{onClick:this.closeSharing,role:"button",tabIndex:0},L.a.createElement(be.a,{className:"collection-buttons__share-item",provider:"facebook",url:h},"Facebook")),L.a.createElement("div",{onClick:this.closeSharing,role:"button",tabIndex:0},L.a.createElement(be.a,{className:"collection-buttons__share-item",provider:"twitter",url:h},"Twitter")))})),L.a.createElement("div",{className:"collection-buttons__likes-buttons"},L.a.createElement("a",{className:"\n                      review-card__likes-button\n                      review-card__likes-button_positive\n                      ".concat("positive"===v?"review-card__likes-button_active":"","\n                      ").concat(n.id===m.id?"review-card__likes-button_disabled":"","\n                    "),onClick:function(){return e.toggleLike({positive:!0})},role:"button",tabIndex:0,title:a.formatMessage({id:"shared.review_".concat("positive"===v?"remove_like":"like")})},L.a.createElement(H.a,{svg:"positive"===v?oe.a:ae.a,className:"review-card__icon review-card__icon_positive"})),L.a.createElement("div",{className:"\n                      review-card__likes-rating\n                      ".concat(g>0?"review-card__likes-rating_positive":g<0?"review-card__likes-rating_negative":"","\n\n                    ")},g>0?"+":"",g),L.a.createElement("a",{className:"\n                      review-card__likes-button\n                      review-card__likes-button_negative\n                      ".concat("negative"===v?"review-card__likes-button_active":"","\n                      ").concat(n.id===m.id?"review-card__likes-button_disabled":"","\n                    "),onClick:function(){return e.toggleLike({positive:!1})},role:"button",tabIndex:0,title:a.formatMessage({id:"shared.review_".concat("negative"===v?"remove_dislike":"dislike")})},L.a.createElement(H.a,{svg:"negative"===v?le.a:ce.a,className:"review-card__icon review-card__icon_negative"}))))}},{key:"renderFeed",value:function(){var e=this.props,t=e.collection,a=e.currentUser,n=t.feed,o=n.count,i=n.next,c=n.results,r=void 0===c?[]:c,l=n.loading,s=t.creator,d=void 0===s?{}:s;return L.a.createElement("div",{className:"collection-feed"},L.a.createElement(_e.a,{load:this.loadFeed,count:o,next:i,loading:l},a.id===d.id&&L.a.createElement(P.a,{to:Ne.a.collectionAddGames(t.slug),href:Ne.a.collectionAddGames(t.slug),className:"collection-add__link"},it),r.map(function(e){return L.a.createElement(He,{collection:t,item:e,key:e.id})})))}},{key:"renderSuggestions",value:function(){var e=this,t=this.props,a=t.currentUser,n=t.collection,o=n.creator,i=void 0===o?{}:o,c=n.suggestions,r=c.next,l=c.count,s=c.results,d=void 0===s?[]:s,m=c.loading,u=this.state.removedRecommendedGames;return a.id!==i.id||l&&l!==u.length?L.a.createElement("div",{className:"collection-suggestions"},ct,L.a.createElement(_e.a,{load:this.loadSuggestions,count:l,next:r,loading:m},L.a.createElement(ge.a,null,a.id!==i.id&&L.a.createElement(he.a,{className:"collection-suggest__card",onClick:this.handleSuggestGameClick,title:rt}),d.filter(function(e){return!u.includes(e.id)}).map(function(t){var n=t.user_offer;return L.a.createElement("div",{key:t.id},L.a.createElement(ve.a,{game:t,customControls:a.id===i.id?L.a.createElement("div",{className:"collection-suggestions__card-controls"},L.a.createElement("div",{className:"collection-suggestions__card-control",onClick:function(){return e.acceptGame(t)},role:"button",tabIndex:0},lt),L.a.createElement("div",{className:"collection-suggestions__card-control",onClick:function(){return e.ignoreGame(t)},role:"button",tabIndex:0},st)):null}),L.a.createElement(P.a,{to:Ne.a.profile(n.slug),className:"collection-suggestions__item-author"},L.a.createElement(pe.a,{size:20,src:n.avatar,profile:n}),L.a.createElement("span",null,we.a.getName(n))))})))):null}},{key:"render",value:function(){var e=this.props,t=e.intl,a=e.collection,n=a.game_background,o=a.creator,i=void 0===o?{}:o,c=a.noindex;return L.a.createElement(de.a,{helmet:{title:t.formatMessage({id:"collection.head_title"},{name:a.name,user:we.a.getName(i)}),titleAddition:!1,description:a.seo_description,image:a.share_image,none:c},className:"collection",art:!!n&&{image:{path:n.url,color:"rgba(".concat(q.a.hexToRgb(n.dominant_color).join(","),",0.8)")},height:"800px"},header:{needsSubheader:!0}},L.a.createElement(me.a,{columns:"1"},L.a.createElement("div",{className:"collection-head"},this.renderMeta(),this.renderTitle(),this.renderCounts(),this.renderButtons(),L.a.createElement("div",null,this.renderDescription(),this.renderFeed())),this.renderSuggestions(),this.renderRecommendations(),this.renderSharing()))}}]),t}(B.Component))||g)||g)||g)}}]);
//# sourceMappingURL=frontend.page-collection.build.c7d79a8f2eeffb9749ef.js.map