(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{1649:function(e,t,a){"use strict";a.d(t,"a",function(){return b});var n=a(14),r=a.n(n),i=a(19),o=a.n(i),s=a(17),l=a.n(s),c=a(16),d=a.n(c),p=a(18),u=a.n(p),m=a(4),h=a.n(m),f=a(1),v=a.n(f),_=(a(0),a(11)),g=a.n(_),w=(a(1333),{looksLike:void 0,children:null,disabled:!1,centred:!1,withMobileOffset:!1,className:""}),b=function(e){function t(){return r()(this,t),l()(this,d()(t).apply(this,arguments))}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.rank,a=e.looksLike,n=e.children,r=e.disabled,i=e.centred,o=e.className,s=e.withMobileOffset,l=r?"div":"h".concat(t),c=g()("heading","heading_".concat(a||t),h()({heading_centred:i,heading_offset:s},o,o));return v.a.createElement(l,{className:c},n)}}]),t}(f.PureComponent);h()(b,"defaultProps",w)},1746:function(e,t,a){"use strict";a.d(t,"a",function(){return N});var n=a(14),r=a.n(n),i=a(19),o=a.n(i),s=a(17),l=a.n(s),c=a(16),d=a.n(c),p=a(18),u=a.n(p),m=a(6),h=a.n(m),f=a(4),v=a.n(f),_=a(1),g=a.n(_),w=a(0),b=a.n(w),E=926,k=436,N=(b.a.string.isRequired,b.a.oneOf(["facebook","twitter"]).isRequired,b.a.string,b.a.node.isRequired,function(e){function t(){var e,a;r()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return a=l()(this,(e=d()(t)).call.apply(e,[this].concat(i))),v()(h()(h()(a)),"getShareUrl",function(){var e=a.props.url,t=a.props.provider;switch(e=decodeURIComponent("".concat(window.location.origin).concat(e)),t){case"facebook":return"https://facebook.com/sharer.php?u=".concat(e);case"twitter":return"https://twitter.com/share?url=".concat(e);default:return""}}),v()(h()(h()(a)),"share",function(){var e=window.document.documentElement.clientWidth/2-E/2+window.screenX,t=window.document.documentElement.clientHeight/2-k/2+window.screenY;window.open(a.getShareUrl(),"","toolbar=0,status=0,width=".concat(E,",height=").concat(k,",top=").concat(t,",left=").concat(e))}),a}return u()(t,e),o()(t,[{key:"render",value:function(){var e=this.props.className,t=void 0===e?"":e;return g.a.createElement("div",{className:t,onClick:this.share,role:"button",tabIndex:0},this.props.children)}}]),t}(_.Component));v()(N,"defaultProps",{className:""})},1943:function(e,t){e.exports='<svg width="22" height="20" viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M21.654 6.305L15.665.311a.96.96 0 0 0-.702-.296c-.124 0-.254.026-.39.078-.405.177-.608.484-.608.92v2.998H11.47a25.46 25.46 0 0 0-3.064.172c-.941.114-1.77.272-2.488.476a10.06 10.06 0 0 0-1.941.757 8.304 8.304 0 0 0-1.474.96A6.084 6.084 0 0 0 1.435 7.53a7.169 7.169 0 0 0-.733 1.272 7.355 7.355 0 0 0-.437 1.373c-.11.5-.182.968-.218 1.405-.037.437-.055.91-.055 1.42 0 .583.091 1.218.273 1.905.182.686.382 1.28.6 1.779a18.8 18.8 0 0 0 .773 1.553c.296.536.501.892.615 1.069.115.176.224.338.328.484.104.135.24.202.405.202.042 0 .104-.01.188-.03.239-.115.343-.292.311-.531-.467-3.497-.083-5.958 1.154-7.383 1.196-1.363 3.473-2.045 6.83-2.045h2.496V13c0 .437.203.744.609.921.135.052.265.078.39.078.28 0 .514-.099.701-.297l5.989-5.993a.961.961 0 0 0 .296-.703.96.96 0 0 0-.296-.702z"/></svg>'},2443:function(e,t,a){"use strict";a.r(t);var n,r,i,o,s,l,c,d,p=a(14),u=a.n(p),m=a(19),h=a.n(m),f=a(17),v=a.n(f),_=a(16),g=a.n(_),w=a(18),b=a.n(w),E=a(4),k=a.n(E),N=a(3),y=a.n(N),C=a(7),O=a.n(C),T=a(1),j=a.n(T),R=a(0),S=a.n(R),U=a(25),z=a(10),A=a(93),x=a.n(A),I=a(207),q=a(370),P=(a(67),a(210)),F=a(211),M=a(6),L=a.n(M),B=a(15),G=a.n(B),D=a(212),H=a.n(D),J=a(11),V=a.n(J),W=a(30),X=a.n(W),Y=a(1943),K=a.n(Y),Q=a(71),Z=a.n(Q),$=a(58),ee=a(1649),te=a(357),ae=a(358),ne=a(149),re=a(56),ie=a(70),oe=a(21),se=a(1746),le=a(24),ce=a(5),de=a(34),pe=(a(1577),S.a.shape({}),S.a.shape({}),S.a.string,S.a.func.isRequired,S.a.shape({}).isRequired,S.a.shape({}),S.a.number.isRequired,$.d.isRequired,S.a.shape().isRequired,{profile:{},params:{id:0},className:"",user:void 0}),ue=j.a.createElement(ne.b,{className:"profile-head__button",kind:"fill",size:"medium"},j.a.createElement(z.c,{id:"profile.settings"})),me=j.a.createElement(X.a,{svg:Z.a,className:"profile-head__button-icon"}),he=j.a.createElement(X.a,{svg:K.a,className:"profile-head__share-icon"}),fe=j.a.createElement("div",{className:"profile-head__share-title"},j.a.createElement(z.c,{id:"profile.share_title"})),ve=j.a.createElement(z.c,{id:"profile.overview"}),_e=j.a.createElement(z.c,{id:"profile.games"}),ge=j.a.createElement(z.c,{id:"profile.tab_to_play"}),we=j.a.createElement(z.c,{id:"profile.reviews"}),be=j.a.createElement(z.c,{id:"profile.collections"}),Ee=j.a.createElement(z.c,{id:"profile.tab_connections_following"}),ke=j.a.createElement(z.c,{id:"profile.tab_connections_followers"}),Ne=Object(U.connect)(function(e){return{currentUser:e.currentUser,size:e.app.size}})(n=H()((i=r=function(e){function t(){var e,a;u()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=v()(this,(e=g()(t)).call.apply(e,[this].concat(r))),k()(L()(L()(a)),"state",{sharingOpen:!1}),k()(L()(L()(a)),"follow",function(){var e=a.props,t=e.dispatch,n=e.profile;t(Object(oe.V)()).then(function(){t(Object(de.I)(n))}).catch(function(e){console.error(e)})}),k()(L()(L()(a)),"unfollow",function(){var e=a.props,t=e.dispatch,n=e.profile;t(Object(de.ib)(n))}),k()(L()(L()(a)),"openSharing",function(){a.setState({sharingOpen:!0})}),k()(L()(L()(a)),"closeSharing",function(){a.setState({sharingOpen:!1})}),a}return b()(t,e),h()(t,[{key:"isActiveTab",value:function(e){var t=this.props.location.pathname;return e.some(function(e){return e===t})}},{key:"renderName",value:function(){var e=this.props,t=e.profile,a=void 0===t?{}:t,n=e.user,r=void 0===n?{}:n,i=e.size,o=Object.keys(a).length>0&&a.username.length>0?a:r,s=o.full_name,l=void 0===s?"":s,c=o.username,d=o.avatar,p=void 0===d?"":d,u=le.a.getName({full_name:l,username:c}).split(" "),m=j.a.createElement(re.a,{className:"profile-head__avatar",size:86,src:p,profile:a});return j.a.createElement("div",{className:"profile-head__name-wrapper"},j.a.createElement(ee.a,{className:"profile-head__name",rank:1},le.a.isDesktopSize({size:i})?u.map(function(e,t){return t===u.length-1?j.a.createElement("div",{key:e,className:"profile-head__name__last-word"},e,Object.keys(a).length>0&&a.username.length>0&&m):j.a.createElement("div",{key:e,className:"profile-head__name__word"},e)}):j.a.createElement("span",null,Object.keys(a).length>0&&a.username.length>0&&j.a.createElement(re.a,{className:"profile-head__avatar",size:86,src:p,profile:a}),u.join(" "))))}},{key:"renderButtons",value:function(){var e=this.props,t=e.currentUser,a=e.profile,n=void 0===a?{}:a,r=n.following,i=n.follow_loading,o=n.followers_count,s=n.slug,l=this.state.sharingOpen,c=ce.a.profile(s);return j.a.createElement("div",{className:"profile-head__buttons"},t.id&&t.id===n.id?j.a.createElement(G.a,{to:ce.a.settings,href:ce.a.settings},ue):j.a.createElement(ne.b,{className:"profile-head__button",kind:"fill",size:"medium",disabled:i,loading:i,onClick:r?this.unfollow:this.follow},j.a.createElement(z.c,{id:"profile.".concat(r?"following":"follow")}),r?me:j.a.createElement("span",{className:"button__additional"},o||"")),j.a.createElement(ie.a,{opened:l,kind:"sharing",onClose:this.closeSharing,renderedButton:j.a.createElement(ne.b,{className:"profile-head__share-button",kind:"fill",size:"medium",onClick:this.openSharing},he),renderedContent:j.a.createElement("div",{className:"profile-head__share-content"},fe,j.a.createElement("div",{onClick:this.closeSharing,role:"button",tabIndex:0},j.a.createElement(se.a,{className:"profile-head__share-item",provider:"facebook",url:c},"Facebook")),j.a.createElement("div",{onClick:this.closeSharing,role:"button",tabIndex:0},j.a.createElement(se.a,{className:"profile-head__share-item",provider:"twitter",url:c},"Twitter")))}))}},{key:"renderTabs",value:function(){var e=this.props,t=e.params,a=void 0===t?{}:t,n=e.profile,r=e.currentUserId,i=a.id,o=void 0===i?0:i,s=n.games_count,l=n.games_wishlist_count,c=n.collections_count,d=n.reviews_count,p=n.followers_count,u=n.following_count,m=r!==n.id&&s>0;return j.a.createElement("div",{className:"profile-head__tabs"},j.a.createElement(te.a,{className:"profile-head__tabs-inner",centred:!1},j.a.createElement(ae.a,{to:ce.a.profile(o),active:this.isActiveTab([ce.a.profile(o)]),isNoRel:!0},ve),j.a.createElement(ae.a,{to:ce.a.profileGames(o),counter:m?s-l:void 0,active:this.isActiveTab([ce.a.profileGames(o)])},_e),j.a.createElement(ae.a,{to:ce.a.profileGamesToPlay(o),counter:m?l:void 0,active:this.isActiveTab([ce.a.profileGamesToPlay(o)])},ge),j.a.createElement(ae.a,{to:ce.a.profileReviews(o),counter:m?d:void 0,active:this.isActiveTab([ce.a.profileReviews(o)])},we),j.a.createElement(ae.a,{to:ce.a.profileCollectionsCreated(o),counter:m?c:void 0,active:this.isActiveTab([ce.a.profileCollectionsCreated(o),ce.a.profileCollectionsFollowing(o)])},be),j.a.createElement(ae.a,{to:ce.a.profileConnectionsFollowing(o),counter:m?u:void 0,active:this.isActiveTab([ce.a.profileConnectionsFollowing(o)])},Ee),j.a.createElement(ae.a,{to:ce.a.profileConnectionsFollowers(o),counter:m?p:void 0,active:this.isActiveTab([ce.a.profileConnectionsFollowers(o)])},ke)))}},{key:"render",value:function(){var e=this.props,t=e.profile,a=void 0===t?{}:t,n=e.user,r=void 0===n?{}:n,i=(Object.keys(a).length>0&&a.username.length>0?a:r).bio;return j.a.createElement("div",{className:this.className},j.a.createElement("div",{className:"profile-head__top"},this.renderName(),j.a.createElement("div",{className:"profile-head__controls"},this.renderButtons())),i&&j.a.createElement("div",{className:"profile-head__bio",dangerouslySetInnerHTML:{__html:i}}),this.renderTabs())}},{key:"className",get:function(){var e=this.props.className;return V()("profile-head",k()({},e,e))}}]),t}(T.Component),k()(r,"defaultProps",pe),n=i))||n)||n;a(1578);a.d(t,"default",function(){return ye});var ye=(o=Object(I.a)(function(){var e=O()(y.a.mark(function e(t){var a,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.store,n=t.params,r=(void 0===n?{}:n).id,a.dispatch(Object(de.L)(r)),a.dispatch(Object(de.gb)());case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),{updateParam:"id"}),s=Object(U.connect)(function(e){return{profile:e.profile,currentUserId:e.currentUser.id}}),o(l=Object(z.g)(l=s((d=c=function(e){function t(){return u()(this,t),v()(this,g()(t).apply(this,arguments))}return b()(t,e),h()(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"componentDidUpdate",value:function(e){e.profile.id!==this.props.profile.id&&window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.props,t=e.intl,a=e.location,n=e.profile,r=e.params,i=e.currentUserId,o=n.game_background,s=n.username,l=n.bio,c="".concat(a.pathname.split("/").filter(function(e){return!x()(e,"@")}).join("/"))||"/overview";return j.a.createElement(P.a,{helmet:{title:t.formatMessage({id:"profile.head_title_".concat(c)},{name:s}),description:l,image:n.share_image,none:n.noindex||a.query.filter||c.includes("collections")&&0===n.collections_count},art:{height:"450px",image:{path:o?o.url:void 0,color:o?"rgba(".concat(q.a.hexToRgb(o.dominant_color).join(","),",0.8)"):""}},className:a.pathname.includes("overview")?"profile_overview":""},j.a.createElement(F.a,{className:"profile",columns:"1"},j.a.createElement(Ne,{currentUserId:i,className:"profile__head",user:a.state,profile:n,params:r}),j.a.createElement("div",{className:"profile__content"},this.props.children)))}}]),t}(j.a.Component),k()(c,"defaultProps",{children:void 0}),l=d))||l)||l)||l)}}]);
//# sourceMappingURL=frontend.page-profile.build.03dbfde4e30e02bb91f6.js.map